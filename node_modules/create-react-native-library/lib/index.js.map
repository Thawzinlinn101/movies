{"version":3,"file":"index.js","names":["FALLBACK_BOB_VERSION","BINARIES","COMMON_FILES","path","resolve","__dirname","TURBOREPO_FILES","JS_FILES","EXPO_FILES","CPP_FILES","EXAMPLE_FILES","NATIVE_COMMON_FILES","NATIVE_FILES","module_legacy","module_new","module_mixed","view_legacy","view_mixed","view_new","JAVA_FILES","OBJC_FILES","module_common","KOTLIN_FILES","SWIFT_FILES","LANGUAGE_CHOICES","title","value","types","NEWARCH_DESCRIPTION","BACKCOMPAT_DESCRIPTION","TYPE_CHOICES","description","args","type","choices","map","create","argv","folder","join","process","cwd","name","fs","pathExists","console","log","kleur","blue","exit","child","spawn","Promise","reject","once","error","code","email","sync","stdout","toString","trim","e","basename","questions","message","initial","validateNpmPackage","validForNewPackages","test","undefined","validate","input","Boolean","previous","username","githubUsername","_","answers","authorUrl","slug","replace","values","filter","choice","includes","key","Object","entries","question","valid","String","some","c","green","red","authorName","authorEmail","repoUrl","languages","reactNativeVersion","turborepo","prompts","k","v","Array","isArray","length","prev","prompt","result","version","race","setTimeout","npm","on","data","stderr","err","moduleType","startsWith","arch","example","project","namespace","split","toLowerCase","pack","options","bob","charAt","toUpperCase","$1","slice","package","package_dir","package_cpp","identifier","native","cpp","kotlin","swift","view","module","author","url","repo","copyDir","source","dest","mkdirp","files","readdir","f","target","ejs","render","openDelimiter","closeDelimiter","file","stats","stat","isDirectory","match","content","readFile","writeFile","copyFile","warn","yellow","cyan","spinner","ora","start","generateExampleApp","projectName","text","templateType","remove","examplePackageJson","readJSONSync","rootPackageJson","devDependencies","react","dependencies","writeJSONSync","spaces","succeed","platforms","ios","color","android","web","dedent","magenta","bold","gray","script","yargs","command","demandCommand","recommendCommands","fail","strict"],"sources":["../src/index.ts"],"sourcesContent":["import path from 'path';\nimport fs from 'fs-extra';\nimport ejs from 'ejs';\nimport dedent from 'dedent';\nimport kleur from 'kleur';\nimport yargs from 'yargs';\nimport spawn from 'cross-spawn';\nimport ora from 'ora';\nimport validateNpmPackage from 'validate-npm-package-name';\nimport githubUsername from 'github-username';\nimport prompts, { PromptObject } from './utils/prompts';\nimport generateExampleApp from './utils/generateExampleApp';\n\nconst FALLBACK_BOB_VERSION = '0.20.0';\n\nconst BINARIES = /(gradlew|\\.(jar|keystore|png|jpg|gif))$/;\n\nconst COMMON_FILES = path.resolve(__dirname, '../templates/common');\nconst TURBOREPO_FILES = path.resolve(__dirname, '../templates/turborepo');\nconst JS_FILES = path.resolve(__dirname, '../templates/js-library');\nconst EXPO_FILES = path.resolve(__dirname, '../templates/expo-library');\nconst CPP_FILES = path.resolve(__dirname, '../templates/cpp-library');\nconst EXAMPLE_FILES = path.resolve(__dirname, '../templates/example-legacy');\nconst NATIVE_COMMON_FILES = path.resolve(\n  __dirname,\n  '../templates/native-common'\n);\n\nconst NATIVE_FILES = {\n  module_legacy: path.resolve(__dirname, '../templates/native-library-legacy'),\n  module_new: path.resolve(__dirname, '../templates/native-library-new'),\n  module_mixed: path.resolve(__dirname, '../templates/native-library-mixed'),\n  view_legacy: path.resolve(__dirname, '../templates/native-view-legacy'),\n  view_mixed: path.resolve(__dirname, '../templates/native-view-mixed'),\n  view_new: path.resolve(__dirname, '../templates/native-view-new'),\n} as const;\n\nconst JAVA_FILES = {\n  module_legacy: path.resolve(__dirname, '../templates/java-library-legacy'),\n  module_new: path.resolve(__dirname, '../templates/java-library-new'),\n  module_mixed: path.resolve(__dirname, '../templates/java-library-mixed'),\n  view_legacy: path.resolve(__dirname, '../templates/java-view-legacy'),\n  view_mixed: path.resolve(__dirname, '../templates/java-view-mixed'),\n  view_new: path.resolve(__dirname, '../templates/java-view-new'),\n} as const;\n\nconst OBJC_FILES = {\n  module_common: path.resolve(__dirname, '../templates/objc-library'),\n  view_legacy: path.resolve(__dirname, '../templates/objc-view-legacy'),\n  view_mixed: path.resolve(__dirname, '../templates/objc-view-mixed'),\n  view_new: path.resolve(__dirname, '../templates/objc-view-new'),\n} as const;\n\nconst KOTLIN_FILES = {\n  module_legacy: path.resolve(__dirname, '../templates/kotlin-library-legacy'),\n  module_new: path.resolve(__dirname, '../templates/kotlin-library-new'),\n  module_mixed: path.resolve(__dirname, '../templates/kotlin-library-mixed'),\n  view_legacy: path.resolve(__dirname, '../templates/kotlin-view-legacy'),\n  view_mixed: path.resolve(__dirname, '../templates/kotlin-view-mixed'),\n  view_new: path.resolve(__dirname, '../templates/kotlin-view-new'),\n} as const;\n\nconst SWIFT_FILES = {\n  module_legacy: path.resolve(__dirname, '../templates/swift-library-legacy'),\n  view_legacy: path.resolve(__dirname, '../templates/swift-view-legacy'),\n} as const;\n\ntype ArgName =\n  | 'slug'\n  | 'description'\n  | 'author-name'\n  | 'author-email'\n  | 'author-url'\n  | 'repo-url'\n  | 'languages'\n  | 'type'\n  | 'react-native-version'\n  | 'turborepo';\n\ntype ProjectLanguages =\n  | 'java-objc'\n  | 'java-swift'\n  | 'kotlin-objc'\n  | 'kotlin-swift'\n  | 'cpp'\n  | 'js';\n\ntype ProjectType =\n  | 'module-legacy'\n  | 'module-new'\n  | 'module-mixed'\n  | 'view-mixed'\n  | 'view-new'\n  | 'view-legacy'\n  | 'library';\n\ntype Answers = {\n  slug: string;\n  description: string;\n  authorName: string;\n  authorEmail: string;\n  authorUrl: string;\n  repoUrl: string;\n  languages: ProjectLanguages;\n  type?: ProjectType;\n  reactNativeVersion?: string;\n  turborepo?: boolean;\n};\n\nconst LANGUAGE_CHOICES: {\n  title: string;\n  value: ProjectLanguages;\n  types: ProjectType[];\n}[] = [\n  {\n    title: 'Java & Objective-C',\n    value: 'java-objc',\n    types: [\n      'module-legacy',\n      'module-new',\n      'module-mixed',\n      'view-mixed',\n      'view-new',\n      'view-legacy',\n    ],\n  },\n  {\n    title: 'Kotlin & Objective-C',\n    value: 'kotlin-objc',\n    types: [\n      'module-legacy',\n      'module-new',\n      'module-mixed',\n      'view-mixed',\n      'view-new',\n      'view-legacy',\n    ],\n  },\n  {\n    title: 'Java & Swift',\n    value: 'java-swift',\n    types: ['module-legacy', 'view-legacy'],\n  },\n  {\n    title: 'Kotlin & Swift',\n    value: 'kotlin-swift',\n    types: ['module-legacy', 'view-legacy'],\n  },\n  {\n    title: 'C++ for Android & iOS',\n    value: 'cpp',\n    types: ['module-legacy', 'module-mixed', 'module-new'],\n  },\n  {\n    title: 'JavaScript for Android, iOS & Web',\n    value: 'js',\n    types: ['library'],\n  },\n];\n\nconst NEWARCH_DESCRIPTION = 'requires new arch (experimental)';\nconst BACKCOMPAT_DESCRIPTION = 'supports new arch (experimental)';\n\nconst TYPE_CHOICES: {\n  title: string;\n  value: ProjectType;\n  description: string;\n}[] = [\n  {\n    title: 'JavaScript library',\n    value: 'library',\n    description: 'supports Expo Go and Web',\n  },\n  {\n    title: 'Native module',\n    value: 'module-legacy',\n    description: 'bridge for native APIs to JS',\n  },\n  {\n    title: 'Native view',\n    value: 'view-legacy',\n    description: 'bridge for native views to JS',\n  },\n  {\n    title: 'Turbo module with backward compat',\n    value: 'module-mixed',\n    description: BACKCOMPAT_DESCRIPTION,\n  },\n  {\n    title: 'Turbo module',\n    value: 'module-new',\n    description: NEWARCH_DESCRIPTION,\n  },\n  {\n    title: 'Fabric view with backward compat',\n    value: 'view-mixed',\n    description: BACKCOMPAT_DESCRIPTION,\n  },\n  {\n    title: 'Fabric view',\n    value: 'view-new',\n    description: NEWARCH_DESCRIPTION,\n  },\n];\n\nconst args: Record<ArgName, yargs.Options> = {\n  'slug': {\n    description: 'Name of the npm package',\n    type: 'string',\n  },\n  'description': {\n    description: 'Description of the npm package',\n    type: 'string',\n  },\n  'author-name': {\n    description: 'Name of the package author',\n    type: 'string',\n  },\n  'author-email': {\n    description: 'Email address of the package author',\n    type: 'string',\n  },\n  'author-url': {\n    description: 'URL for the package author',\n    type: 'string',\n  },\n  'repo-url': {\n    description: 'URL for the repository',\n    type: 'string',\n  },\n  'languages': {\n    description: 'Languages you want to use',\n    choices: LANGUAGE_CHOICES.map(({ value }) => value),\n  },\n  'type': {\n    description: 'Type of library you want to develop',\n    choices: TYPE_CHOICES.map(({ value }) => value),\n  },\n  'react-native-version': {\n    description: 'Version of React Native to use, uses latest if not specified',\n    type: 'string',\n  },\n  'turborepo': {\n    description: 'Whether to configure Turborepo for the project',\n    type: 'boolean',\n  },\n};\n\nasync function create(argv: yargs.Arguments<any>) {\n  const folder = path.join(process.cwd(), argv.name);\n\n  if (await fs.pathExists(folder)) {\n    console.log(\n      `A folder already exists at ${kleur.blue(\n        folder\n      )}! Please specify another folder name or delete the existing one.`\n    );\n\n    process.exit(1);\n  }\n\n  try {\n    const child = spawn('npx', ['--help']);\n\n    await new Promise((resolve, reject) => {\n      child.once('error', reject);\n      child.once('close', resolve);\n    });\n  } catch (error) {\n    // @ts-expect-error: TS doesn't know about `code`\n    if (error != null && error.code === 'ENOENT') {\n      console.log(\n        `Couldn't find ${kleur.blue(\n          'npx'\n        )}! Please install it by running ${kleur.blue('npm install -g npx')}`\n      );\n\n      process.exit(1);\n    } else {\n      throw error;\n    }\n  }\n\n  let name, email;\n\n  try {\n    name = spawn\n      .sync('git', ['config', '--get', 'user.name'])\n      .stdout.toString()\n      .trim();\n\n    email = spawn\n      .sync('git', ['config', '--get', 'user.email'])\n      .stdout.toString()\n      .trim();\n  } catch (e) {\n    // Ignore error\n  }\n\n  const basename = path.basename(argv.name);\n\n  const questions: Record<\n    ArgName,\n    Omit<PromptObject<keyof Answers>, 'validate'> & {\n      validate?: (value: string) => boolean | string;\n    }\n  > = {\n    'slug': {\n      type: 'text',\n      name: 'slug',\n      message: 'What is the name of the npm package?',\n      initial: validateNpmPackage(basename).validForNewPackages\n        ? /^(@|react-native)/.test(basename)\n          ? basename\n          : `react-native-${basename}`\n        : undefined,\n      validate: (input) =>\n        validateNpmPackage(input).validForNewPackages ||\n        'Must be a valid npm package name',\n    },\n    'description': {\n      type: 'text',\n      name: 'description',\n      message: 'What is the description for the package?',\n      validate: (input) => Boolean(input) || 'Cannot be empty',\n    },\n    'author-name': {\n      type: 'text',\n      name: 'authorName',\n      message: 'What is the name of package author?',\n      initial: name,\n      validate: (input) => Boolean(input) || 'Cannot be empty',\n    },\n    'author-email': {\n      type: 'text',\n      name: 'authorEmail',\n      message: 'What is the email address for the package author?',\n      initial: email,\n      validate: (input) =>\n        /^\\S+@\\S+$/.test(input) || 'Must be a valid email address',\n    },\n    'author-url': {\n      type: 'text',\n      name: 'authorUrl',\n      message: 'What is the URL for the package author?',\n      // @ts-ignore: this is supported, but types are wrong\n      initial: async (previous: string) => {\n        try {\n          const username = await githubUsername(previous);\n\n          return `https://github.com/${username}`;\n        } catch (e) {\n          // Ignore error\n        }\n\n        return undefined;\n      },\n      validate: (input) => /^https?:\\/\\//.test(input) || 'Must be a valid URL',\n    },\n    'repo-url': {\n      type: 'text',\n      name: 'repoUrl',\n      message: 'What is the URL for the repository?',\n      // @ts-ignore: this is supported, but types are wrong\n      initial: (_: string, answers: Answers) => {\n        if (/^https?:\\/\\/github.com\\/[^/]+/.test(answers.authorUrl)) {\n          return `${answers.authorUrl}/${answers.slug\n            .replace(/^@/, '')\n            .replace(/\\//g, '-')}`;\n        }\n\n        return '';\n      },\n      validate: (input) => /^https?:\\/\\//.test(input) || 'Must be a valid URL',\n    },\n    'type': {\n      type: 'select',\n      name: 'type',\n      message: 'What type of library do you want to develop?',\n      choices: TYPE_CHOICES,\n    },\n    'languages': {\n      type: 'select',\n      name: 'languages',\n      message: 'Which languages do you want to use?',\n      choices: (_, values) => {\n        return LANGUAGE_CHOICES.filter((choice) => {\n          if (choice.types) {\n            return choice.types.includes(values.type);\n          }\n\n          return true;\n        });\n      },\n    },\n  };\n\n  // Validate arguments passed to the CLI\n  for (const [key, value] of Object.entries(argv)) {\n    if (value == null) {\n      continue;\n    }\n\n    const question = questions[key as ArgName];\n\n    if (question == null) {\n      continue;\n    }\n\n    let valid = question.validate ? question.validate(String(value)) : true;\n\n    // We also need to guard against invalid choices\n    // If we don't already have a validation message to provide a better error\n    if (typeof valid !== 'string' && 'choices' in question) {\n      const choices =\n        typeof question.choices === 'function'\n          ? question.choices(undefined, argv, question)\n          : question.choices;\n\n      if (choices && !choices.some((choice) => choice.value === value)) {\n        valid = `Supported values are - ${choices.map((c) =>\n          kleur.green(c.value)\n        )}`;\n      }\n    }\n\n    if (valid !== true) {\n      let message = `Invalid value ${kleur.red(\n        String(value)\n      )} passed for ${kleur.blue(key)}`;\n\n      if (typeof valid === 'string') {\n        message += `: ${valid}`;\n      }\n\n      console.log(message);\n\n      process.exit(1);\n    }\n  }\n\n  const {\n    slug,\n    description,\n    authorName,\n    authorEmail,\n    authorUrl,\n    repoUrl,\n    type = 'module-mixed',\n    languages = type === 'library' ? 'js' : 'java-objc',\n    reactNativeVersion,\n    turborepo,\n  } = {\n    ...argv,\n    ...(await prompts(\n      Object.entries(questions)\n        .filter(([k, v]) => {\n          // Skip questions which are passed as parameter and pass validation\n          if (argv[k] != null && v.validate?.(argv[k]) !== false) {\n            return false;\n          }\n\n          // Skip questions with a single choice\n          if (Array.isArray(v.choices) && v.choices.length === 1) {\n            return false;\n          }\n\n          return true;\n        })\n        .map(([, v]) => {\n          const { type, choices } = v;\n\n          // Skip dynamic questions with a single choice\n          if (type === 'select' && typeof choices === 'function') {\n            return {\n              ...v,\n              type: (prev, values, prompt) => {\n                const result = choices(prev, { ...argv, ...values }, prompt);\n\n                if (result && result.length === 1) {\n                  return null;\n                }\n\n                return type;\n              },\n            };\n          }\n\n          return v;\n        })\n    )),\n  } as Answers;\n\n  // Get latest version of Bob from NPM\n  let version: string;\n\n  try {\n    version = await Promise.race([\n      new Promise<string>((resolve) =>\n        setTimeout(() => resolve(FALLBACK_BOB_VERSION), 1000)\n      ),\n      new Promise<string>((resolve, reject) => {\n        const npm = spawn('npm', [\n          'view',\n          'react-native-builder-bob',\n          'dist-tags.latest',\n        ]);\n\n        npm.stdout?.on('data', (data) => resolve(data.toString().trim()));\n        npm.stderr?.on('data', (data) => reject(data.toString().trim()));\n\n        npm.on('error', (err) => reject(err));\n      }),\n    ]);\n  } catch (e) {\n    // Fallback to a known version if we couldn't fetch\n    version = FALLBACK_BOB_VERSION;\n  }\n\n  const moduleType = type.startsWith('view-') ? 'view' : 'module';\n  const arch =\n    type === 'module-new' || type === 'view-new'\n      ? 'new'\n      : type === 'module-mixed' || type === 'view-mixed'\n      ? 'mixed'\n      : 'legacy';\n\n  const example = type === 'library' ? 'expo' : 'native';\n  const project = slug.replace(/^(react-native-|@[^/]+\\/)/, '');\n\n  let namespace: string | undefined;\n\n  if (slug.startsWith('@') && slug.includes('/')) {\n    namespace = slug\n      .split('/')[0]\n      ?.replace(/[^a-z0-9]/g, '')\n      .toLowerCase();\n  }\n\n  // Create a package identifier with specified namespace when possible\n  const pack = `${namespace ? `${namespace}.` : ''}${project\n    .replace(/[^a-z0-9]/g, '')\n    .toLowerCase()}`;\n\n  const options = {\n    bob: {\n      version: version || FALLBACK_BOB_VERSION,\n    },\n    project: {\n      slug,\n      description,\n      name:\n        /^[A-Z]/.test(argv.name) && /^[a-z0-9]+$/i.test(argv.name)\n          ? // If the project name is already in PascalCase, use it as-is\n            argv.name\n          : // Otherwise, convert it to PascalCase and remove any non-alphanumeric characters\n            `${project.charAt(0).toUpperCase()}${project\n              .replace(/[^a-z0-9](\\w)/g, (_, $1) => $1.toUpperCase())\n              .slice(1)}`,\n      package: pack,\n      package_dir: pack.replace(/\\./g, '/'),\n      package_cpp: pack.replace(/\\./g, '_'),\n      identifier: slug.replace(/[^a-z0-9]+/g, '-').replace(/^-/, ''),\n      native: languages !== 'js',\n      arch,\n      cpp: languages === 'cpp',\n      kotlin: languages === 'kotlin-objc' || languages === 'kotlin-swift',\n      swift: languages === 'java-swift' || languages === 'kotlin-swift',\n      view: moduleType === 'view',\n      module: moduleType === 'module',\n    },\n    author: {\n      name: authorName,\n      email: authorEmail,\n      url: authorUrl,\n    },\n    repo: repoUrl,\n    example,\n    turborepo,\n  };\n\n  const copyDir = async (source: string, dest: string) => {\n    await fs.mkdirp(dest);\n\n    const files = await fs.readdir(source);\n\n    for (const f of files) {\n      const target = path.join(\n        dest,\n        ejs.render(f.replace(/^\\$/, ''), options, {\n          openDelimiter: '{',\n          closeDelimiter: '}',\n        })\n      );\n\n      const file = path.join(source, f);\n      const stats = await fs.stat(file);\n\n      if (stats.isDirectory()) {\n        await copyDir(file, target);\n      } else if (!file.match(BINARIES)) {\n        const content = await fs.readFile(file, 'utf8');\n\n        await fs.writeFile(target, ejs.render(content, options));\n      } else {\n        await fs.copyFile(file, target);\n      }\n    }\n  };\n\n  await fs.mkdirp(folder);\n\n  if (reactNativeVersion != null) {\n    if (example === 'expo') {\n      console.warn(\n        `${kleur.yellow('⚠')} Ignoring --react-native-version for Expo example`\n      );\n    } else {\n      console.log(\n        `${kleur.blue('ℹ')} Using ${kleur.cyan(\n          `react-native@${reactNativeVersion}`\n        )} for the example`\n      );\n    }\n  }\n\n  const spinner = ora('Generating example').start();\n\n  await generateExampleApp({\n    type: example,\n    dest: folder,\n    projectName: options.project.name,\n    arch,\n    reactNativeVersion,\n  });\n\n  spinner.text = 'Copying files';\n\n  await copyDir(COMMON_FILES, folder);\n\n  if (turborepo) {\n    await copyDir(TURBOREPO_FILES, folder);\n  }\n\n  if (languages === 'js') {\n    await copyDir(JS_FILES, folder);\n    await copyDir(EXPO_FILES, folder);\n  } else {\n    await copyDir(\n      path.join(EXAMPLE_FILES, 'example'),\n      path.join(folder, 'example')\n    );\n\n    await copyDir(NATIVE_COMMON_FILES, folder);\n\n    if (moduleType === 'module') {\n      await copyDir(NATIVE_FILES[`${moduleType}_${arch}`], folder);\n    } else {\n      await copyDir(NATIVE_FILES[`${moduleType}_${arch}`], folder);\n    }\n\n    if (options.project.swift) {\n      await copyDir(SWIFT_FILES[`${moduleType}_legacy`], folder);\n    } else {\n      if (moduleType === 'module') {\n        await copyDir(OBJC_FILES[`${moduleType}_common`], folder);\n      } else {\n        await copyDir(OBJC_FILES[`view_${arch}`], folder);\n      }\n    }\n\n    const templateType = `${moduleType}_${arch}` as const;\n\n    if (options.project.kotlin) {\n      await copyDir(KOTLIN_FILES[templateType], folder);\n    } else {\n      await copyDir(JAVA_FILES[templateType], folder);\n    }\n\n    if (options.project.cpp) {\n      await copyDir(CPP_FILES, folder);\n      await fs.remove(path.join(folder, 'ios', `${options.project.name}.m`));\n    }\n  }\n\n  // Set `react` and `react-native` versions of root `package.json` from example `package.json`\n  const examplePackageJson = fs.readJSONSync(\n    path.join(folder, 'example', 'package.json')\n  );\n  const rootPackageJson = fs.readJSONSync(path.join(folder, 'package.json'));\n  rootPackageJson.devDependencies.react = examplePackageJson.dependencies.react;\n  rootPackageJson.devDependencies['react-native'] =\n    examplePackageJson.dependencies['react-native'];\n\n  fs.writeJSONSync(path.join(folder, 'package.json'), rootPackageJson, {\n    spaces: 2,\n  });\n\n  try {\n    spawn.sync('git', ['init'], { cwd: folder });\n    spawn.sync('git', ['branch', '-M', 'main'], { cwd: folder });\n    spawn.sync('git', ['add', '.'], { cwd: folder });\n    spawn.sync('git', ['commit', '-m', 'chore: initial commit'], {\n      cwd: folder,\n    });\n  } catch (e) {\n    // Ignore error\n  }\n\n  spinner.succeed(\n    `Project created successfully at ${kleur.yellow(argv.name)}!\\n`\n  );\n\n  const platforms = {\n    ios: { name: 'iOS', color: 'cyan' },\n    android: { name: 'Android', color: 'green' },\n    ...(example === 'expo'\n      ? ({ web: { name: 'Web', color: 'blue' } } as const)\n      : null),\n  } as const;\n\n  console.log(\n    dedent(`\n      ${kleur.magenta(\n        `${kleur.bold('Get started')} with the project`\n      )}${kleur.gray(':')}\n\n        ${kleur.gray('$')} yarn\n      ${Object.entries(platforms)\n        .map(\n          ([script, { name, color }]) => `\n      ${kleur[color](`Run the example app on ${kleur.bold(name)}`)}${kleur.gray(\n            ':'\n          )}\n\n        ${kleur.gray('$')} yarn example ${script}`\n        )\n        .join('\\n')}\n\n      ${kleur.yellow(\n        `See ${kleur.bold('CONTRIBUTING.md')} for more details. Good luck!`\n      )}\n    `)\n  );\n}\n// eslint-disable-next-line babel/no-unused-expressions\nyargs\n  .command('$0 <name>', 'create a react native library', args, create)\n  .demandCommand()\n  .recommendCommands()\n  .fail((message, error) => {\n    console.log('\\n');\n\n    if (error) {\n      console.log(kleur.red(error.message));\n      throw error;\n    }\n\n    if (message) {\n      console.log(kleur.red(message));\n    } else {\n      console.log(\n        kleur.red(`An unknown error occurred. See '--help' for usage guide.`)\n      );\n    }\n\n    process.exit(1);\n  })\n  .strict().argv;\n"],"mappings":"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"}